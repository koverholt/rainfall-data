<!DOCTYPE html>
<html lang="en-us">

  <head>
    <title>Central Texas Rainfall Totals</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

    <link rel="stylesheet" type="text/css" href="/css/rainfall-totals.css">
    <script src="/js/rainfall-totals.js"></script>
  </head>

  <body>
    <div id="app">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 text-center">
            <h1 class="mt-5">Central Texas Rainfall Totals</h1>
            <br>
            <p class="lead" v-cloak-hide>
              Shows recent rainfall totals from the
                <select name="sitelist" id="sitelist">
                  <option value="{{ site }}" selected>{{ location }}</option>
                  <option v-for="item in list_of_sites" :value="item.site">{{ item.location }}</option>
                </select>
              <a href="https://hydromet.lcra.org/">LCRA Hydromet</a> rainfall gauge site
            </p>
            <div class="spinner-border m-5" role="status" v-if="false">
              <span class="sr-only">Loading...</span>
            </div>
            <div class="row" v-cloak-hide>
              <div class="container">
                <div class="row">
                  <div class="col text-center text-white bg-primary rounded m-1 p-2">
                    <h5>
                      {{ since_midnight }} in
                    </h5>
                    <p>
                      Rainfall since midnight
                    </p>
                  </div>
                  <div class="col text-center text-white bg-primary rounded m-1 p-2">
                    <h5>
                      {{ one_day_ago }} in
                    </h5>
                    <p>
                      Rainfall yesterday
                    </p>
                  </div>
                  <div class="col text-center text-white bg-primary rounded m-1 p-2">
                    <h5>
                      {{ five_day_total }} in
                    </h5>
                    <p>
                      Rainfall last 5 days
                    </p>
                    <div class="icon d-none d-sm-block"><i class="fas fa-wind"></i></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row" v-cloak-hide>
              <div class="container">
                <div class="row">
                  <div class="col text-center text-white bg-primary rounded m-1 p-2">
                    <h5>
                      {{ this_month }} in
                    </h5>
                    <p>
                      Rainfall this month
                    </p>
                  </div>
                  <div class="col text-center text-white bg-primary rounded m-1 p-2">
                    <h5>
                      {{ this_year }} in
                    </h5>
                    <p>
                      Rainfall this year
                    </p>
                  </div>
                  <div class="col text-center text-white bg-primary rounded m-1 p-2">
                    <h5>
                      {{ last_year }} in
                    </h5>
                    <p>
                      Rainfall last year
                    </p>
                    <div class="icon d-none d-sm-block"><i class="fas fa-wind"></i></div>
                  </div>
                </div>
              </div>
            </div>
            <br>
            <div class="alert alert-warning text-center" role="alert" class="mx-auto" v-if="five_day_total === 0" v-cloak-hide>
              No rainfall in the past five days ðŸ˜­
            </div>
            <br>
            <div class="chart-container">
              <canvas id="myChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

</html>
